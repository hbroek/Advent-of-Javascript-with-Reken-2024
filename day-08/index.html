<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>05 - Character count || Advent of JavaScript</title>
  <link rel="stylesheet" href="../css/index.css" />
  <style>
    :root {
      --icon-color: #ff008c;
      --border-color: #dbdbdb;
      --input-background-color: #f4f4f4;
      --border-radius: 10px;
    }

    html {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 20px;
      background-color: black;
      color:white;
    }
    input {
      background: #333;
      color:white;
      font-size: 1.5em;
      padding: 0.5em;
      border:none;
    }
  </style>
</head>

<body>
  <details open>
  <summary><h1>08 - Tag input field || Advent of JavaScript</h1></summary>
  Create a tag input field. By default, the input looks like a normal text input. When the user enters some text and then types a , the text turns into a tag. The user can enter as many tags as they’d like. The user can hit the x to remove the tag from the list. If there isn’t any text in the input and the user hits the delete key, then it will delete the last tag in the list.
  </details>
  <h3>Solution</h3>
  <div class="tags">
    <label>Tags<br>
      <div data-for="tag:tags" style="display:inline-block;">
        <tag-bullet data-on-removetag="tags.splice(tag.index,1)" text="${tag.item}"></tag-bullet>
      </div>
      <input type="text" data-on-input="if (e.target.value.endsWith(',')){let x = e.target.value;tags.push(x.substring(0,x.length-1));e.target.value=''};"
        data-on-keyDown="if(e.key === 'Backspace' && e.target.value ===''){if (tags.length>0)tags.splice(-1,1)}"
      />
    </label>
  </div>
  <div data-include="../footer.html"></div>
</body>

<script>
  let tags = [];
</script>

<template data-component="tag-bullet" data-arg-text>
  <style>
    :host {
      border-radius: 1em;
      border: white 1px solid;
      display: inline-flex;
      background: black;
      color:white;
      padding: 0.25em 0.5em;
      margin-inline: 0.25em;
      align-items: center;
      gap: 0.25em;
    }

    :host>button {
      color: silver;
    }

    :host>button:hover {
      color: red;
    }
  </style>
  <div>
    <span data-text="${text}"></span>
    <button type="button" data-action="dispatch('removetag',text)">X</button>
  </div>
</template>

<script src="https://cdn.jsdelivr.net/gh/hbroek/reken/dist/reken.min.js"></script>

</html>