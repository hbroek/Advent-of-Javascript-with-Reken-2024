<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>17 - Track Current Section || Advent of JavaScript</title>
  <link rel="stylesheet" href="../css/index.css" />
  <style>
    :root {
      --icon-color: #ff008c;
      --border-color: #dbdbdb;
      --input-background-color: #f4f4f4;
      --border-radius: 10px;
    }

    body {
      font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
      /* background: black;
      color: white; */
      font-size: 16pt;
    }

    section {
      margin-bottom: 3em;
    }

    nav a.active {
      color: #FF0000;
    }

    li::marker {
      content: url(blank.svg);
    }

    li:has(.active)::marker { 
      content: url(chevron.svg);
    }

</style>

</head>

<body>
  <h1>17 - Track Current Section  || Advent of JavaScript</h1>


  <main style="display:grid; grid-template-columns: 1fr 4fr;">
    <nav style="display:flex;flex-direction: column; position:sticky;" data-for="s:5">
      <li><a data-class="active:s.index==sectionIndex" data-attr-href="#section${s.index+1}" style="font-size:1em;" data-text="Section${s.index+1}"></a></li>
    </nav>

    <article style="max-height:100vh;overflow-x:scroll;position:relative;" data-on-scroll="/*console.log(e);*/setActiveSection(e.target, e.target.scrollTop)"> 
      <section><h1><a name="section1">Section 1</a></h1>
        Candy cane jingle sleigh reindeer sparkle gingerbread. Holly wreath cozy snowflake mistletoe frosty cheer
        stockings joy. Tinsel lights evergreen cocoa yuletide twinkling carols glow. Snowman festive bells chimney Santa
        Claus warm wishes. Icicles cookies Rudolph gift wrapping merry elves. Deck the halls Noel laughter peppermint
        marshmallows hearth. Nutcracker fireplace holly berry cocoa sleigh bells cheer.

        Twinkling garland sugarplum stockings merry frosty glow. Snowflake sparkle reindeer cozy mittens Santa Claus
        cheer. Candy cane wishes holly wreath evergreen sleigh bells. Gingerbread elves cocoa peppermint laughter
        twinkling lights. Mistletoe chimneys warm cocoa carols bells Noel. Icicles glitter joy snowman marshmallows
        Christmas tree. Deck the halls with tinsel, cheer, and nutcrackers galore.
      </section>
      <section><h1><a name="section2">Section 2</a></h1>
        Reindeer jingle frosty sparkle Santa Claus mistletoe. Sleigh bells candy cane chimney holly berry marshmallows
        glow. Noel warmth sugarplum snowman evergreen twinkling lights. Cozy cocoa peppermint wreaths gingerbread carols
        joy. Icicles nutcracker stockings reindeer chimney bells laughter. Holly fireplace snowflakes decked halls of
        yuletide splendor. Garland merry wishes frost-covered gifts by the hearth.

        Yuletide gingerbread stockings snowman glow warm cocoa mittens. Sleigh bells sparkle evergreen peppermint
        laughter marshmallows cheer. Icicles wreaths chimney twinkling mistletoe holly joy. Tinsel nutcracker garland
        sugarplum cozy Christmas wishes. Candy canes Santa Claus frosty decked halls festive lights. Rudolph sleigh
        reindeer snowflake warmth Noel by the fire. Chimneys glow with carols, stockings, and yuletide sparkle.
      </section>
      <section><h1><a name="section3">Section 3</a></h1>

        Tinsel glitter snowman peppermint holly evergreen jingle cocoa. Sugarplum mittens sleigh bells frosty
        marshmallows twinkling carols. Santa Claus gifts mistletoe chimney nutcracker joy. Icicles cozy warmth by the
        hearth, decked halls. Reindeer Rudolph gingerbread festive candy cane garland glow. Holly wreaths cheer
        stockings glow with Christmas joy. Noel merry yuletide lights sparkle with holiday magic.

        Sleigh sparkle peppermint reindeer snowman stockings tinsel glow. Chimney frosty warmth cocoa laughter wreaths
        mistletoe cheer. Garland Santa Claus gingerbread bells carols nutcracker holly. Icicles sugarplum lights Rudolph
        festive fireplace joy. Snowflakes candy cane sparkle cozy decked halls with laughter. Warm wishes Noel glow by
        the evergreen-covered hearth. Cheer fills the air, with twinkling lights and marshmallows.
      </section>
      <section><h1><a name="section4">Section 4</a></h1>

        Snowflake tinsel Santa Claus joy stockings sleigh bells mistletoe. Icicles Rudolph frosty sparkle cocoa wreaths
        gingerbread laughter. Peppermint chimney evergreen sugarplum garland marshmallows cheer. Festive reindeer glow
        Noel twinkling lights by the fire. Snowman cozy warmth fills the air with Christmas magic. Holly berry
        nutcracker sleigh gifts jingle joy. Deck the halls in yuletide splendor with cheer.

        Rudolph frosty candy canes peppermint tinsel stockings marshmallows glow. Sleigh bells twinkling mistletoe
        chimney garland wreaths holly. Santa Claus sugarplum nutcracker fireplace evergreen cheer joy. Warmth by the
        hearth with cozy cocoa and laughter. Icicles snowflakes reindeer sparkle gingerbread festive lights. Decked
        halls of Noel jingle with the magic of Christmas. Sleigh rides and carols bring joy to yuletide hearts.
      </section>
      <section><h1><a name="section5">Section 5</a></h1>

        Evergreen twinkling snowflakes stockings candy canes mistletoe glow. Cozy fireplace cheer fills the air with
        Santa Claus magic. Garland wreaths sugarplum gingerbread sleigh bells festive laughter. Icicles sparkle Rudolph
        snowman holly berry joy by the hearth. Warm cocoa marshmallows peppermint chimney nutcracker Noel. Tinsel frosty
        sleigh lights twinkle in holiday splendor. Reindeer bring gifts as the season fills hearts with warmth.

        Twinkling lights garland wreaths candy canes stockings mistletoe joy. Snowman frosty cocoa laughter warm hearths
        decked halls. Santa Claus sparkle gingerbread sleigh bells Rudolph nutcracker cheer. Icicles glow reindeer
        sugarplum marshmallows cozy evergreen. Noel festive tinsel carols holly wreaths twinkling lights. Chimney warmth
        fills the air with Christmas magic and laughter. Decked halls glisten with yuletide splendor and holiday glow.
      </section>

    </article>
  </main>

</body>

<script>
  let sectionIndex = 0;

  const setActiveSection = ((parent, scrollY) => {
    for (let i = 0; i < parent.children.length; i++) {
      const child = parent.children[i];
      console.log(child, scrollY, child.offsetTop, child.offsetHeight,  (child.offsetTop+child.offsetHeight));
      if (scrollY >= child.offsetTop && scrollY < (child.offsetTop+child.offsetHeight)) {
        sectionIndex = i;
      }
    }

  })
</script>
<!-- <script src="https://cdn.jsdelivr.net/gh/hbroek/reken/dist/reken.min.js"></script> -->
<script src="../reken.js"></script>

</html>